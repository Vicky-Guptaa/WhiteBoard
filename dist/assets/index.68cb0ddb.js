const b=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const C of r.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&m(C)}).observe(document,{childList:!0,subtree:!0});function g(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(o){if(o.ep)return;o.ep=!0;const r=g(o);fetch(o.href,r)}};b();const I=document.body,x=document.querySelector(".pen"),S=document.querySelector(".pen-color"),v=document.querySelector(".pen-slider"),y=document.querySelector(".bucket-color"),L=document.querySelector(".eraser"),N=document.querySelector(".clear"),p=document.querySelector(".save-image"),k=document.querySelectorAll(".header-icons-styles"),c=document.querySelector(".selected-tools"),O=document.querySelector(".save-storage"),A=document.querySelector(".load-storage"),W=document.querySelector(".delete-storage"),s=document.createElement("canvas");s.id="canvas";const n=s.getContext("2d");let l=10,T="#efefef",d="#A51DAB",f=!1,u=!1,i=[];y.addEventListener("input",()=>{T=y.firstElementChild.value,E(),P()});S.addEventListener("input",()=>{f=!1,d=S.firstElementChild.value});L.addEventListener("click",()=>{c.textContent="Eraser",f=!0,k.forEach(e=>{e.classList.contains("selected-icon-style")&&e.classList.remove("selected-icon-style")}),L.classList.add("selected-icon-style"),d=y,l=50,v.firstElementChild.value=l});v.addEventListener("change",()=>{l=v.firstElementChild.value});x.addEventListener("click",a);function a(){f=!1,c.textContent="Pen",d=S.firstElementChild.value,l=10,k.forEach(e=>{e.classList.contains("selected-icon-style")&&e.classList.remove("selected-icon-style")}),x.classList.add("selected-icon-style"),v.firstElementChild.value=l}function E(){s.width=window.innerWidth,s.height=window.innerHeight-75,n.fillStyle=T,n.fillRect(0,0,s.width,s.height),I.appendChild(s),a()}E();function P(){for(let e=0;e<i.length-1;e++)n.beginPath(),n.moveTo(i[e].x,i[e].y),n.lineWidth=i[e].size,n.lineCap="round",i[e].erase?n.strokeStyle=y:n.strokeStyle=i[e].color,n.lineTo(i[e+1].x,i[e+1].y),n.stroke()}function h(e,t,g,m,o){const r={x:e,y:t,size:g,color:m,erase:o};i.push(r)}N.addEventListener("click",()=>{E(),i=[],c.textContent="Canvas Cleared",setTimeout(a,1500)});function q(e){const t=s.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}s.addEventListener("mousedown",e=>{u=!0;const t=q(e);n.moveTo(t.x,t.y),n.beginPath(),n.lineWidth=l,n.lineCap="round",n.strokeStyle=d});s.addEventListener("mousemove",e=>{if(u){const t=q(e);n.lineTo(t.x,t.y),n.stroke(),h(t.x,t.y,l,d,f)}else h(void 0)});s.addEventListener("mouseup",e=>{u=!1});function w(e){const t=s.getBoundingClientRect();return{x:e.touches[0].clientX-t.left,y:e.touches[0].clientY-t.top}}s.addEventListener("touchstart",e=>{u=!0;const t=w(e);n.moveTo(t.x,t.y),n.beginPath(),n.lineWidth=l,n.lineCap="round",n.strokeStyle=d});s.addEventListener("touchmove",e=>{if(u){const t=w(e);n.lineTo(t.x,t.y),n.stroke(),h(t.x,t.y,l,d,f)}else h(void 0)});s.addEventListener("touchend",e=>{u=!1});O.addEventListener("click",()=>{localStorage.setItem("saveCanvas",JSON.stringify(i)),c.textContent="Canvas Saved",setTimeout(a,1500)});A.addEventListener("click",()=>{localStorage.getItem("saveCanvas")?(i=JSON.parse(localStorage.saveCanvas),c.textContent="Canvas Loaded",P(),setTimeout(a,1500)):(c.textContent="Canvas Not Found",setTimeout(a,1500))});W.addEventListener("click",()=>{localStorage.removeItem("saveCanvas"),c.textContent="Cleared Local Storage",setTimeout(a,1500)});p.addEventListener("click",()=>{p.firstElementChild.href=s.toDataURL("image/jpeg",1),p.firstElementChild.download="paint-example.jpeg",c.textContent="Image File Saved",setTimeout(a,1500)});
