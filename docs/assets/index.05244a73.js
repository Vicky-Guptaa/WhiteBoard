var ae=Object.defineProperty;var V=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var j=(t,e,s)=>e in t?ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,O=(t,e)=>{for(var s in e||(e={}))ce.call(e,s)&&j(t,s,e[s]);if(V)for(var s of V(e))de.call(e,s)&&j(t,s,e[s]);return t};const ue=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};ue();var fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEJSURBVFiF7dYxToRAFMbx/0StiDGhJtmSAxAb8CrWHMR7eCEKYgOh4g40NLifxTqbYc2qxc7DxH0NE5rfN28ykwf/oApAgPI8v98Mz7JMgIqieDDHJWm/32u32wlQVVXRO3HEfQAfIvgfF3fOaZqmVYiu66IHOOK+whAmOEHLfTVNsx1+0vYoIb60/QxOsE4uivPzzkP8Ylfwil/x7/AnM7zv+3P3+yY6bva2b4r/8oWLg3NtuzF+54FhGFZ427Ymo9QLoLIsBWgcR1McgnP3Ieq6NsMfAS3LIukwvaZpaobjnBOgeZ5Xo1OSJPFxDuPR6cz2DDgLHOA1gDMr1Nct8Pb5fbfG/0R9AJuXK4WKqLCWAAAAAElFTkSuQmCC",he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEySURBVFiF7ZdNioQwEIWf8QheVGj8AddeJS5EEMGFXkHP5JvN6HQbf5IYXQz9wI1U5X1VKUME/pn4+2jLc2xuvLZwaS6lPAK6TQTAoig4C39bcTsEAVBKybWegFAqfxJit3JTCJshXBYKguA8mB++lztBAAzDcKmq67rTLrjaDgJgnuckyaqqHoX4SB6GgSTZNM3yru/72yCWgYvjWIFo29aoE0IIIwBl2rcg3jtxBOF53jXzWWmaLguN46gFYWV+dMhkWaZA1HW9CeHc/Ahi/XU4a/uekiRRZqIsy/W032M+6/V6KRBW5gCMzWdFUbRVtdGBcwfEqdbXpiWJNIIHAPi+j2ma9tbWArCGEEK8x2vfNfcCjSBszc+CtSCumOskmAyC1RVfJ0kHwuX/xVdfPasfBbxsSfCEZAUAAAAASUVORK5CYII=";const me=document.querySelector(".for-canvas"),_=document.querySelector(".pen"),q=document.querySelector(".pen-color"),N=document.querySelector(".pen-slider"),Q=document.querySelector(".bucket-color"),Z=document.querySelector(".eraser"),ge=document.querySelector(".clear"),R=document.querySelector(".save-image"),ve=document.querySelectorAll(".header-icons-styles"),ye=document.querySelector(".selected-tools"),Se=document.querySelector(".save-storage"),Ae=document.querySelector(".load-storage"),pe=document.querySelector(".delete-storage"),Le=document.querySelector(".undo"),Ee=document.querySelector(".redo");document.querySelector("header");const ee=document.querySelector(".diff-shapes"),Y=document.querySelector(".diff-shapes-container"),be=document.querySelectorAll(".shape"),h=document.createElement("canvas");h.id="canvas";const o=h.getContext("2d");let m=10,P="#fff",g="#000000",f=!1,F=!1,l=[],y=-1,u=[],K=!1,c="pen",L=[];function a(t){ye.textContent=t}function J(){ve.forEach(t=>{t.classList.contains("selected-icon-style")&&t.classList.remove("selected-icon-style")})}ee.addEventListener("click",()=>{Y.classList.toggle("invisible"),Y.classList.toggle("scale-0"),Y.classList.toggle("-translate-x-[70%]")});be.forEach(t=>{t.addEventListener("click",()=>{J(),ee.classList.add("selected-icon-style"),f=!1,h.style.cursor="crosshair",m=10,g=q.firstElementChild.value,c=t.getAttribute("data-value"),a(t.getAttribute("data-value"))})});Q.addEventListener("input",()=>{P=Q.firstElementChild.value,p(),E()});q.addEventListener("input",()=>{f=!1,U(),g=q.firstElementChild.value});Z.addEventListener("click",()=>{a("Eraser"),f=!0,h.style.cursor=`url(${he}) 12 25, auto`,c="pen",J(),Z.classList.add("selected-icon-style"),g=P,m=20,N.firstElementChild.value=m});N.addEventListener("change",()=>{m=N.firstElementChild.value});_.addEventListener("click",U);Le.addEventListener("click",te);Ee.addEventListener("click",oe);window.document.addEventListener("keydown",t=>{t.metaKey&&t.shiftKey&&t.key==="z"||t.ctrlKey&&t.key==="y"?oe():(t.ctrlKey&&t.key==="z"||t.metaKey&&t.key==="z")&&te()});function te(){y<0||(y--,p(),E(),a("Undo"),setTimeout(f?()=>a("eraser"):()=>a(c),1e3))}function oe(){l.length-1!==y&&(y++,p(),E(),a("Redo"),setTimeout(f?()=>a("eraser"):()=>a(c),1e3))}function U(){c="pen",f=!1,a("pen"),h.style.cursor=`url(${fe}) 0 60,auto`,g=q.firstElementChild.value,m=10,J(),_.classList.add("selected-icon-style"),N.firstElementChild.value=m}function p(){h.width=window.innerWidth,h.height=window.innerHeight,o.fillStyle=P,o.fillRect(0,0,h.width,h.height),me.appendChild(h)}function xe(){if(l.length===0)return;let t=h.offsetWidth,e=h.offsetHeight,s=l[0][0].h,r=l[0][0].w,n=t/r,i=e/s;for(let d=0;d<l.length;d++)for(let S=0;S<l[d].length;S++)l[d][S].w=t,l[d][S].h=e,l[d][S].x*=n,l[d][S].y*=i}window.addEventListener("resize",()=>{p(),console.log("Hello"),xe(),E()});p();U();function E(){for(let t=0;t<=y;t++)if(!!l[t])for(let e=1;e<l[t].length;e++)l[t][e].shape==="pen"?(o.beginPath(),o.moveTo(l[t][e-1].x,l[t][e-1].y),o.lineWidth=l[t][e-1].size,o.lineCap="round",l[t][e-1].erase?o.strokeStyle=P:o.strokeStyle=l[t][e-1].color,o.lineTo(l[t][e].x,l[t][e].y),o.stroke()):(o.moveTo(l[t][e-1].x,l[t][e-1].y),o.beginPath(),z(l[t]))}ge.addEventListener("click",()=>{p(),l=[],a("Canvas Cleared"),setTimeout(f?()=>a("eraser"):()=>a(c),1e3)});function A(t,e,s,r,n,i,d,S,ie){const re={x:t,y:e,size:s,color:r,erase:n,h:i,w:d,shape:S};l.length!==y&&(l=l.splice(0,y+1)),ie.push(re)}function I(t){const e=h.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top,h:e.height,w:e.width}}h.addEventListener("mousedown",t=>{F=!0;const e=I(t);o.moveTo(e.x,e.y),o.beginPath(),o.lineWidth=m,o.lineCap="round",o.strokeStyle=g,u=[],c!=="pen"&&(L=[],A(e.x,e.y,m,g,f,e.h,e.w,c,u),A(e.x,e.y,m,g,f,e.h,e.w,c,L))});h.addEventListener("mousemove",t=>{if(!!F)if(c==="pen"){const e=I(t);o.lineTo(e.x,e.y),o.stroke(),A(e.x,e.y,m,g,f,e.h,e.w,c,u);return}else{const e=I(t);A(e.x,e.y,m,g,f,e.h,e.w,c,L),p(),E(),o.beginPath(),o.moveTo(e.x,e.y),z(L)}});function b(t,e,s,r,n,i){switch(t){case"rectangle-stroke":{o.strokeStyle=i,o.strokeRect(e,s,r,n);break}case"rectangle-fill":{o.fillStyle=i,o.fillRect(e,s,r,n);break}case"circle-stroke":{o.lineCap="round",o.arc(e,s,Math.max(n,r),0,2*Math.PI,!0),o.strokeStyle=i,o.stroke();break}case"circle-fill":{o.lineCap="round",o.fillStyle=i,o.arc(e,s,Math.max(n,r),0,2*Math.PI,!0),o.fill();break}case"line":{o.lineCap="round",o.strokeStyle=i,o.lineTo(e,s),o.stroke();break}default:console.log("Something Went Wrong! The Chosen Shape Is Not In Option")}o.closePath()}function z(t){if(t.length<2)return;let e={x:t[0].x,y:t[0].y},s={x:t[t.length-1].x,y:t[t.length-1].y},r=t[0].color,n=t[0].shape,i=s.x-e.x,d=s.y-e.y;if(o.lineWidth=t[0].size,n==="line"){o.moveTo(e.x,e.y),b(n,s.x,s.y,i,d,r);return}if(n.includes("circle")){i=Math.abs(i),d=Math.abs(d);let S=Math.sqrt(d*d+i*i);o.moveTo(e.x+S,e.y),b(n,e.x,e.y,S,0,r);return}d>0&&i>0?b(n,e.x,e.y,i,d,r):d>0?b(n,s.x,e.y,Math.abs(i),d,r):i>0?b(n,e.x,s.y,i,Math.abs(d),r):b(n,s.x,s.y,Math.abs(i),Math.abs(d),r)}h.addEventListener("mouseup",t=>{if(c!=="pen"){let e=I(t);A(e.x,e.y,m,g,f,e.h,e.w,c,u),l.push(u),y=l.length-1,p(),E()}else if(u.length!==0){if(u.length===1){const e=O({},u[0]);e.x+=1e-4,u.push(e)}l.push(u),y=l.length-1}F=!1});function M(t){const e=h.getBoundingClientRect();return{x:t.changedTouches[0].clientX-e.left,y:t.changedTouches[0].clientY-e.top,h:e.height,w:e.width}}h.addEventListener("touchstart",t=>{K=!0;const e=M(t);o.moveTo(e.x,e.y),o.beginPath(),o.lineWidth=m,o.lineCap="round",o.strokeStyle=g,u=[],c!=="pen"&&(L=[],A(e.x,e.y,m,g,f,e.h,e.w,c,u),A(e.x,e.y,m,g,f,e.h,e.w,c,L))});h.addEventListener("touchmove",t=>{if(!!K)if(c==="pen"){const e=M(t);o.lineTo(e.x,e.y),o.stroke(),A(e.x,e.y,m,g,f,e.h,e.w,c,u);return}else{const e=M(t);A(e.x,e.y,m,g,f,e.h,e.w,c,L),p(),E(),o.beginPath(),o.moveTo(e.x,e.y),z(L)}});h.addEventListener("touchend",t=>{if(c!=="pen"){let e=M(t);A(e.x,e.y,m,g,f,e.h,e.w,c,u),l.push(u),z(u),y=l.length-1}else if(u.length!==0){if(u.length===1){const e=O({},u[0]);e.x+=1e-4,u.push(e),console.log(u)}l.push(u),y=l.length-1}K=!1});Se.addEventListener("click",()=>{localStorage.setItem("saveCanvas",JSON.stringify(l)),a("Canvas Saved"),setTimeout(f?()=>a("eraser"):()=>a(c),1e3)});Ae.addEventListener("click",()=>{localStorage.getItem("saveCanvas")?(l=JSON.parse(localStorage.saveCanvas),y=l.length-1,a("Canvas Loaded"),E(),setTimeout(f?()=>a("eraser"):()=>a(c),1e3)):(a("Canvas Not Found"),setTimeout(f?()=>a("eraser"):()=>a(c),1e3))});pe.addEventListener("click",()=>{localStorage.removeItem("saveCanvas"),a("Cleared Local Storage"),setTimeout(f?()=>a("eraser"):()=>a(c),1e3)});R.addEventListener("click",()=>{R.firstElementChild.href=h.toDataURL("image/jpeg",1),R.firstElementChild.download="paint-example.jpeg",a("Image File Saved"),setTimeout(f?()=>a("eraser"):()=>a(c),1e3)});const Ce=document.querySelector(".bucket-set"),X=document.querySelector(".bucket-color-wrapper"),ke=document.querySelector(".pen-tool"),B=document.querySelector(".pen-tools-wrapper"),G=document.querySelector(".drop-menu"),D=document.querySelector(".drop-menu-items-container"),T=document.querySelector(".switch-theme"),we=document.querySelector("body"),W=document.querySelector(".tools-container"),H=document.querySelector(".hide-unhide");let v=!1;function Te(){v=localStorage.getItem("isDarkMode"),v===null?v=!1:v==="true"?v=!0:v=!1,v==!0&&(se(),v=!0,localStorage.setItem("isDarkMode",v))}Te();Ce.addEventListener("click",()=>{X.classList.toggle("invisible"),X.classList.toggle("scale-0"),X.classList.toggle("-translate-x-[100%]")});ke.addEventListener("click",()=>{B.classList.toggle("invisible"),B.classList.toggle("scale-0"),B.classList.toggle("-translate-x-[70%]")});G.addEventListener("click",()=>{G.firstElementChild.classList.toggle("-rotate-90"),D.classList.toggle("translate-x-[45%]"),D.classList.toggle("-translate-y-[70%]"),D.classList.toggle("scale-0")});T.addEventListener("click",se);function se(){T.firstElementChild.classList.contains("fa-moon")?(T.firstElementChild.classList.replace("fa-moon","fa-sun"),v=!1):(v=!0,T.firstElementChild.classList.replace("fa-sun","fa-moon")),localStorage.setItem("isDarkMode",v),we.classList.toggle("darkMode")}H.addEventListener("click",()=>{W.classList.toggle("left-[1.5rem]"),W.classList.toggle("left-[-6rem]"),H.firstElementChild.classList.toggle("fa-angles-left"),H.firstElementChild.classList.toggle("fa-angles-right")});const ne=document.querySelector("canvas"),qe=document.querySelector(".sticky-container"),Ne=document.querySelector(".add-notes"),Ie=document.querySelector(".save-storage"),Me=document.querySelector(".load-storage"),Pe=document.querySelector(".delete-storage");let x=0,C=0,k=[],w=[],$=0;function ze(t){t.addEventListener("mousedown",e=>{x=e.clientX-t.offsetLeft,C=e.clientY-t.offsetTop;let s=t.getAttribute("data-no");k[s]=!0}),t.addEventListener("mousemove",e=>{let s=t.getAttribute("data-no");if(!k[s])return;let r=e.clientY-C,n=e.clientX-x;t.style.top=r+"px",t.style.left=n+"px"}),ne.addEventListener("mousemove",e=>{let s=t.getAttribute("data-no");if(!k[s])return;let r=e.clientY-C,n=e.clientX-x;t.style.top=r+"px",t.style.left=n+"px"}),t.addEventListener("mouseup",()=>{let e=t.getAttribute("data-no");k[e]=!1}),t.addEventListener("drag",()=>!1)}function Oe(t){t.addEventListener("touchstart",e=>{x=e.changedTouches[0].clientX-t.offsetLeft,C=e.changedTouches[0].clientY-t.offsetTop;let s=t.getAttribute("data-no");w[s]=!0}),t.addEventListener("touchmove",e=>{let s=t.getAttribute("data-no");if(!w[s])return;let r=e.changedTouches[0].clientY-C,n=e.changedTouches[0].clientX-x;t.style.top=r+"px",t.style.left=n+"px"}),ne.addEventListener("touchmove",e=>{let s=t.getAttribute("data-no");if(!w[s])return;let r=e.changedTouches[0].clientY-C,n=e.changedTouches[0].clientX-x;t.style.top=r+"px",t.style.left=n+"px"}),t.addEventListener("touchend",()=>{let e=t.getAttribute("data-no");w[e]=!1}),t.addEventListener("drag",()=>!1)}function Re(t){t.addEventListener("click",()=>{t.parentElement.parentElement.parentElement.parentElement.remove()})}function Ye(t){t.addEventListener("click",()=>{let e=t.parentElement.parentElement.parentElement.lastElementChild;e.style.height=="8rem"?(e.style.height="0rem",e.style.padding="0rem"):(e.style.height="8rem",e.style.padding="0.25rem 0rem")})}Ne.addEventListener("click",le);function le(t){$++,k.push(!1),w.push(!1);let e=document.createElement("div");e.classList.add("sticky-wrapper"),e.setAttribute("data-no",`${$-1}`),t.heading!==void 0?(e.style.top=t.top+"px",e.style.left=t.left+"px",e.innerHTML=`
    <div class="sticky">
        <div class="sticky-top ">
            <input type="text" value="${t.heading}" class="sticky-heading" placeholder="Note...">
            <div class="sticky-btns">
                <button class="minimize-btn " title="minimize">
                    <i class="fa-solid fa-minus "></i>
                </button>
                <button class="remove-btn " title="remove">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
        <div class="sticky-content" style="height: 8rem; padding:0.25rem 0rem;">
            <textarea name="content" class="" placeholder="type here...">${t.content}</textarea>
        </div>
    </div>`):e.innerHTML=`
    <div class="sticky">
        <div class="sticky-top ">
            <input type="text" value="" class="sticky-heading" placeholder="Note...">
            <div class="sticky-btns">
                <button class="minimize-btn " title="minimize">
                    <i class="fa-solid fa-minus "></i>
                </button>
                <button class="remove-btn " title="remove">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
        <div class="sticky-content" style="height: 8rem; padding:0.25rem 0rem;">
            <textarea name="content" class=""  placeholder="type here..."></textarea>
        </div>
    </div>`,qe.appendChild(e),ze(e),Oe(e),Re(e.querySelector(".remove-btn")),Ye(e.querySelector(".minimize-btn"))}function Xe(){let t=document.querySelectorAll(".sticky-wrapper"),e=[];t.forEach(s=>{let r={heading:s.querySelector(".sticky-heading").value,content:s.querySelector("textarea").value,top:s.offsetTop,left:s.offsetLeft};e.push(r)}),localStorage.setItem("saveStickyNotes",JSON.stringify(e))}function Be(){localStorage.getItem("saveStickyNotes")&&JSON.parse(localStorage.saveStickyNotes).forEach(e=>{le(e)})}Ie.addEventListener("click",Xe);Me.addEventListener("click",Be);Pe.addEventListener("click",()=>{localStorage.removeItem("saveStickyNotes")});
