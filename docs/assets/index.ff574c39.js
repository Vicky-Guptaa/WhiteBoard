var de=Object.defineProperty;var F=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var K=(e,t,o)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,J=(e,t)=>{for(var o in t||(t={}))ue.call(t,o)&&K(e,o,t[o]);if(F)for(var o of F(t))fe.call(t,o)&&K(e,o,t[o]);return e};const me=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}};me();var ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEJSURBVFiF7dYxToRAFMbx/0StiDGhJtmSAxAb8CrWHMR7eCEKYgOh4g40NLifxTqbYc2qxc7DxH0NE5rfN28ykwf/oApAgPI8v98Mz7JMgIqieDDHJWm/32u32wlQVVXRO3HEfQAfIvgfF3fOaZqmVYiu66IHOOK+whAmOEHLfTVNsx1+0vYoIb60/QxOsE4uivPzzkP8Ylfwil/x7/AnM7zv+3P3+yY6bva2b4r/8oWLg3NtuzF+54FhGFZ427Ymo9QLoLIsBWgcR1McgnP3Ieq6NsMfAS3LIukwvaZpaobjnBOgeZ5Xo1OSJPFxDuPR6cz2DDgLHOA1gDMr1Nct8Pb5fbfG/0R9AJuXK4WKqLCWAAAAAElFTkSuQmCC",he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEySURBVFiF7ZdNioQwEIWf8QheVGj8AddeJS5EEMGFXkHP5JvN6HQbf5IYXQz9wI1U5X1VKUME/pn4+2jLc2xuvLZwaS6lPAK6TQTAoig4C39bcTsEAVBKybWegFAqfxJit3JTCJshXBYKguA8mB++lztBAAzDcKmq67rTLrjaDgJgnuckyaqqHoX4SB6GgSTZNM3yru/72yCWgYvjWIFo29aoE0IIIwBl2rcg3jtxBOF53jXzWWmaLguN46gFYWV+dMhkWaZA1HW9CeHc/Ahi/XU4a/uekiRRZqIsy/W032M+6/V6KRBW5gCMzWdFUbRVtdGBcwfEqdbXpiWJNIIHAPi+j2ma9tbWArCGEEK8x2vfNfcCjSBszc+CtSCumOskmAyC1RVfJ0kHwuX/xVdfPasfBbxsSfCEZAUAAAAASUVORK5CYII=";const ve=document.querySelector(".for-canvas"),G=document.querySelector(".pen"),N=document.querySelector(".pen-color"),x=document.querySelector(".pen-slider"),U=document.querySelector(".bucket-color"),V=document.querySelector(".eraser"),ye=document.querySelector(".clear"),P=document.querySelector(".save-image"),Se=document.querySelectorAll(".header-icons-styles"),Ae=document.querySelector(".selected-tools"),Le=document.querySelector(".save-storage"),Ee=document.querySelector(".load-storage"),pe=document.querySelector(".delete-storage"),Ce=document.querySelector(".undo"),be=document.querySelector(".redo");document.querySelector("header");const W=document.querySelector(".diff-shapes"),z=document.querySelector(".diff-shapes-container"),ke=document.querySelectorAll(".shape"),d=document.createElement("canvas");d.id="canvas";const n=d.getContext("2d");let m=10,w="#fff",v="#000000",f=!1,$=!1,l=[],S=-1,y=[],u="pen",I=[];function r(e){Ae.textContent=e}function X(){Se.forEach(e=>{e.classList.contains("selected-icon-style")&&e.classList.remove("selected-icon-style")})}W.addEventListener("click",()=>{z.classList.toggle("invisible"),z.classList.toggle("scale-0"),z.classList.toggle("-translate-x-[70%]")});ke.forEach(e=>{e.addEventListener("click",()=>{X(),W.classList.add("selected-icon-style"),f=!1,d.style.cursor="crosshair",m=10,v=N.firstElementChild.value,x.firstElementChild.value=m,u=e.getAttribute("data-value"),r(e.getAttribute("data-value"))})});U.addEventListener("input",()=>{w=U.firstElementChild.value,f&&(v=w),A(),L()});N.addEventListener("input",()=>{f=!1,v=N.firstElementChild.value});V.addEventListener("click",()=>{r("Eraser"),f=!0,d.style.cursor=`url(${he}) 12 25, auto`,u="pen",X(),V.classList.add("selected-icon-style"),v=w,m=20,x.firstElementChild.value=m});x.addEventListener("change",()=>{m=x.firstElementChild.value});G.addEventListener("click",te);Ce.addEventListener("click",_);be.addEventListener("click",ee);window.document.addEventListener("keydown",e=>{e.metaKey&&e.shiftKey&&e.key==="z"||e.ctrlKey&&e.key==="y"?ee():(e.ctrlKey&&e.key==="z"||e.metaKey&&e.key==="z")&&_()});function _(){S<0||(S--,A(),L(),r("Undo"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3))}function ee(){l.length-1!==S&&(S++,A(),L(),r("Redo"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3))}function te(){u="pen",f=!1,r("pen"),d.style.cursor=`url(${ge}) 0 60,auto`,v=N.firstElementChild.value,m=10,X(),G.classList.add("selected-icon-style"),x.firstElementChild.value=m}function A(){d.width=window.innerWidth,d.height=window.innerHeight,n.fillStyle=w,n.fillRect(0,0,d.width,d.height),ve.appendChild(d)}function xe(){if(l.length===0)return;let e=d.offsetWidth,t=d.offsetHeight,o=l[0][0].h,a=l[0][0].w,s=e/a,i=t/o;for(let c=0;c<l.length;c++)for(let h=0;h<l[c].length;h++)l[c][h].w=e,l[c][h].h=t,l[c][h].x*=s,l[c][h].y*=i}window.addEventListener("resize",()=>{A(),console.log("Hello"),xe(),L()});A();te();function L(){for(let e=0;e<=S;e++)if(!!l[e])for(let t=1;t<l[e].length;t++)l[e][t].shape==="pen"?(n.beginPath(),n.moveTo(l[e][t-1].x,l[e][t-1].y),n.lineWidth=l[e][t-1].size,n.lineCap="round",l[e][t-1].erase?n.strokeStyle=w:n.strokeStyle=l[e][t-1].color,n.lineTo(l[e][t].x,l[e][t].y),n.stroke()):(n.moveTo(l[e][t-1].x,l[e][t-1].y),n.beginPath(),oe(l[e]))}ye.addEventListener("click",()=>{A(),l=[],r("Canvas Cleared"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)});function T(e,t,o,a,s,i,c,h,re){const ce={x:e,y:t,size:o,color:a,erase:s,h:i,w:c,shape:h};l.length!==S&&(l=l.splice(0,S+1)),re.push(ce)}function B(e){const t=d.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top,h:t.height,w:t.width}}function H(e){const t=d.getBoundingClientRect();return{x:e.changedTouches[0].clientX-t.left,y:e.changedTouches[0].clientY-t.top,h:t.height,w:t.width}}function E(e,t,o,a,s,i){switch(e){case"rectangle-stroke":{n.strokeStyle=i,n.strokeRect(t,o,a,s);break}case"rectangle-fill":{n.fillStyle=i,n.fillRect(t,o,a,s);break}case"circle-stroke":{n.lineCap="round",n.arc(t,o,Math.max(s,a),0,2*Math.PI,!0),n.strokeStyle=i,n.stroke();break}case"circle-fill":{n.lineCap="round",n.fillStyle=i,n.arc(t,o,Math.max(s,a),0,2*Math.PI,!0),n.fill();break}case"line":{n.lineCap="round",n.strokeStyle=i,n.lineTo(t,o),n.stroke();break}default:console.log("Something Went Wrong! The Chosen Shape Is Not In Option")}n.closePath()}function oe(e){if(e.length<2)return;let t={x:e[0].x,y:e[0].y},o={x:e[e.length-1].x,y:e[e.length-1].y},a=e[0].color,s=e[0].shape,i=o.x-t.x,c=o.y-t.y;if(n.lineWidth=e[0].size,s==="line"){n.moveTo(t.x,t.y),E(s,o.x,o.y,i,c,a);return}if(s.includes("circle")){i=Math.abs(i),c=Math.abs(c);let h=Math.sqrt(c*c+i*i);n.moveTo(t.x+h,t.y),E(s,t.x,t.y,h,0,a);return}c>0&&i>0?E(s,t.x,t.y,i,c,a):c>0?E(s,o.x,t.y,Math.abs(i),c,a):i>0?E(s,t.x,o.y,i,Math.abs(c),a):E(s,o.x,o.y,Math.abs(i),Math.abs(c),a)}function se(e,t){console.log("mstrt"),$=t;const o=t?B(e):H(e);n.moveTo(o.x,o.y),n.beginPath(),n.lineWidth=m,n.lineCap="round",n.strokeStyle=v,y=[],u!=="pen"&&(I=[],T(o.x,o.y,m,v,f,o.h,o.w,u,y),T(o.x,o.y,m,v,f,o.h,o.w,u,I)),t?d.addEventListener("mousemove",M):d.addEventListener("touchmove",M)}function M(e){console.log("mmove");const t=$?B(e):H(e);if(u==="pen"){n.lineTo(t.x,t.y),n.stroke(),T(t.x,t.y,m,v,f,t.h,t.w,u,y);return}else T(t.x,t.y,m,v,f,t.h,t.w,u,I),A(),L(),n.beginPath(),n.moveTo(t.x,t.y),oe(I)}function ne(e,t){if(console.log("mend"),u!=="pen"){const o=t?B(e):H(e);T(o.x,o.y,m,v,f,o.h,o.w,u,y),l.push(y),S=l.length-1,A(),L()}else if(y.length!==0){if(y.length===1){const o=J({},y[0]);o.x+=1e-4,y.push(o)}l.push(y),S=l.length-1}t?d.removeEventListener("mousemove",M):d.removeEventListener("touchmove",M)}d.addEventListener("mousedown",e=>se(e,!0));d.addEventListener("mouseup",e=>ne(e,!0));d.addEventListener("touchstart",e=>se(e,!1));d.addEventListener("touchend",e=>ne(e,!1));Le.addEventListener("click",()=>{localStorage.setItem("saveCanvas",JSON.stringify(l)),r("Canvas Saved"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)});Ee.addEventListener("click",()=>{localStorage.getItem("saveCanvas")?(l=JSON.parse(localStorage.saveCanvas),S=l.length-1,r("Canvas Loaded"),L(),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)):(r("Canvas Not Found"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3))});pe.addEventListener("click",()=>{localStorage.removeItem("saveCanvas"),r("Cleared Local Storage"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)});P.addEventListener("click",()=>{P.firstElementChild.href=d.toDataURL("image/jpeg",1),P.firstElementChild.download="paint-example.jpeg",r("Image File Saved"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)});const we=document.querySelector(".bucket-set"),O=document.querySelector(".bucket-color-wrapper"),Te=document.querySelector(".pen-tool"),R=document.querySelector(".pen-tools-wrapper"),j=document.querySelector(".drop-menu"),Y=document.querySelector(".drop-menu-items-container"),q=document.querySelector(".switch-theme"),qe=document.querySelector("body"),Q=document.querySelector(".tools-container"),D=document.querySelector(".hide-unhide");let g=!1;function Ne(){g=localStorage.getItem("isDarkMode"),g===null?g=!1:g==="true"?g=!0:g=!1,g==!0&&(le(),g=!0,localStorage.setItem("isDarkMode",g))}Ne();we.addEventListener("click",()=>{O.classList.toggle("invisible"),O.classList.toggle("scale-0"),O.classList.toggle("-translate-x-[100%]")});Te.addEventListener("click",()=>{R.classList.toggle("invisible"),R.classList.toggle("scale-0"),R.classList.toggle("-translate-x-[70%]")});j.addEventListener("click",()=>{j.firstElementChild.classList.toggle("-rotate-90"),Y.classList.toggle("translate-x-[45%]"),Y.classList.toggle("-translate-y-[70%]"),Y.classList.toggle("scale-0")});q.addEventListener("click",le);function le(){q.firstElementChild.classList.contains("fa-moon")?(q.firstElementChild.classList.replace("fa-moon","fa-sun"),g=!1):(g=!0,q.firstElementChild.classList.replace("fa-sun","fa-moon")),localStorage.setItem("isDarkMode",g),qe.classList.toggle("darkMode")}D.addEventListener("click",()=>{Q.classList.toggle("left-[1.5rem]"),Q.classList.toggle("left-[-6rem]"),D.firstElementChild.classList.toggle("fa-angles-left"),D.firstElementChild.classList.toggle("fa-angles-right")});const ie=document.querySelector("canvas"),Ie=document.querySelector(".sticky-container"),Me=document.querySelector(".add-notes"),Pe=document.querySelector(".save-storage"),ze=document.querySelector(".load-storage"),Oe=document.querySelector(".delete-storage");let p=0,C=0,b=[],k=[],Z=0;function Re(e){e.addEventListener("mousedown",t=>{p=t.clientX-e.offsetLeft,C=t.clientY-e.offsetTop;let o=e.getAttribute("data-no");b[o]=!0}),e.addEventListener("mousemove",t=>{let o=e.getAttribute("data-no");if(!b[o])return;let a=t.clientY-C,s=t.clientX-p;e.style.top=a+"px",e.style.left=s+"px"}),ie.addEventListener("mousemove",t=>{let o=e.getAttribute("data-no");if(!b[o])return;let a=t.clientY-C,s=t.clientX-p;e.style.top=a+"px",e.style.left=s+"px"}),e.addEventListener("mouseup",()=>{let t=e.getAttribute("data-no");b[t]=!1}),e.addEventListener("drag",()=>!1)}function Ye(e){e.addEventListener("touchstart",t=>{p=t.changedTouches[0].clientX-e.offsetLeft,C=t.changedTouches[0].clientY-e.offsetTop;let o=e.getAttribute("data-no");k[o]=!0}),e.addEventListener("touchmove",t=>{let o=e.getAttribute("data-no");if(!k[o])return;let a=t.changedTouches[0].clientY-C,s=t.changedTouches[0].clientX-p;e.style.top=a+"px",e.style.left=s+"px"}),ie.addEventListener("touchmove",t=>{let o=e.getAttribute("data-no");if(!k[o])return;let a=t.changedTouches[0].clientY-C,s=t.changedTouches[0].clientX-p;e.style.top=a+"px",e.style.left=s+"px"}),e.addEventListener("touchend",()=>{let t=e.getAttribute("data-no");k[t]=!1}),e.addEventListener("drag",()=>!1)}function De(e){e.addEventListener("click",()=>{e.parentElement.parentElement.parentElement.parentElement.remove()})}function Xe(e){e.addEventListener("click",()=>{let t=e.parentElement.parentElement.parentElement.lastElementChild;t.style.height=="8rem"?(t.style.height="0rem",t.style.padding="0rem"):(t.style.height="8rem",t.style.padding="0.25rem 0rem")})}Me.addEventListener("click",ae);function ae(e){Z++,b.push(!1),k.push(!1);let t=document.createElement("div");t.classList.add("sticky-wrapper"),t.setAttribute("data-no",`${Z-1}`),e.heading!==void 0?(t.style.top=e.top+"px",t.style.left=e.left+"px",t.innerHTML=`
    <div class="sticky">
        <div class="sticky-top ">
            <input type="text" value="${e.heading}" class="sticky-heading" placeholder="Note...">
            <div class="sticky-btns">
                <button class="minimize-btn " title="minimize">
                    <i class="fa-solid fa-minus "></i>
                </button>
                <button class="remove-btn " title="remove">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
        <div class="sticky-content" style="height: 8rem; padding:0.25rem 0rem;">
            <textarea name="content" class="" placeholder="type here...">${e.content}</textarea>
        </div>
    </div>`):t.innerHTML=`
    <div class="sticky">
        <div class="sticky-top ">
            <input type="text" value="" class="sticky-heading" placeholder="Note...">
            <div class="sticky-btns">
                <button class="minimize-btn " title="minimize">
                    <i class="fa-solid fa-minus "></i>
                </button>
                <button class="remove-btn " title="remove">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
        <div class="sticky-content" style="height: 8rem; padding:0.25rem 0rem;">
            <textarea name="content" class=""  placeholder="type here..."></textarea>
        </div>
    </div>`,Ie.appendChild(t),Re(t),Ye(t),De(t.querySelector(".remove-btn")),Xe(t.querySelector(".minimize-btn"))}function Be(){let e=document.querySelectorAll(".sticky-wrapper"),t=[];e.forEach(o=>{let a={heading:o.querySelector(".sticky-heading").value,content:o.querySelector("textarea").value,top:o.offsetTop,left:o.offsetLeft};t.push(a)}),localStorage.setItem("saveStickyNotes",JSON.stringify(t))}function He(){localStorage.getItem("saveStickyNotes")&&JSON.parse(localStorage.saveStickyNotes).forEach(t=>{ae(t)})}Pe.addEventListener("click",Be);ze.addEventListener("click",He);Oe.addEventListener("click",()=>{localStorage.removeItem("saveStickyNotes")});
